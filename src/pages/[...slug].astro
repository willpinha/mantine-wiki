---
import { DetailsPage } from "@/client/details-page";
import Page from "@/custom/page.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
	const wikiEntries = await getCollection("wiki");

	return wikiEntries.map((entry) => ({
		params: { slug: entry.slug },
		props: { entry },
	}));
}

const { entry } = Astro.props;
---

<Page title={entry.data.title}>
	<DetailsPage
		slug={entry.slug}
		body={entry.body}
		frontMatter={entry.data}
		client:only="react"
	/>
</Page>
